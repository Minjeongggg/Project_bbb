/*! @kyobobook/kbb-js v1.0.10 (build 20231201-105226) */
"use strict";!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.__KbbJS__=n():(e.__KbbJS__=e.__KbbJS__||{},e.__KbbJS__["plugins.ui-alliance"]=n())}(self,(function(){return(self.webpackChunk_KbbJS_name_=self.webpackChunk_KbbJS_name_||[]).push([[239],{56719:function(e,n,a){a.r(n);var t=a(13535),l=a.n(t),i=a(68420),o=a(27344),c=a(90306),r=a(3020),s=a(3362),u=a(49573),f=a.n(u),_=a(88066),p=a.n(_),h=a(51956);function d(e){var n=function(){if("undefined"==typeof Reflect||!l())return!1;if(l().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(l()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,t=(0,s.Z)(e);if(n){var i=(0,s.Z)(this).constructor;a=l()(t,arguments,i)}else a=t.apply(this,arguments);return(0,r.Z)(this,a)}}var b="LINK_CODE",v=function(e){(0,c.Z)(a,e);var n=d(a);function a(){var e;return(0,i.Z)(this,a),(e=n.call(this,"alliance"))._alliance=null,e.link=e.urlinfo.get("LINK")||Cookies.get(b)||null,e}return(0,o.Z)(a,[{key:"link",get:function(){return this._link},set:function(e){null!=e&&(e!==Cookies.get(b)&&(0,h.setCookie)(b,e),this._alliance=(0,h.getGlobalMessage)("welcome.alliance",e)||null,this._link=e)}},{key:"alliance",get:function(){return this._alliance}},{key:"domReady",value:function(){var e=this;if(null!==this.alliance){var n=this.alliance,a=n.name,t=n.msg;if(!this.isMobile){var l=(0,h.createEl)({class:"associate_channel",tabindex:"0"}).append(['<span class="channel_name">'.concat(a,'<span class="status">ON</span></span>'),'<div class="bubble_speech_desc arw_left_top">'.concat(t,"</div>")]);return l.on("click",(function(n){return e.allianceOff()})),void $("#welcome_header_wrap .service_mall_inner").prepend(l)}var i=(0,h.createEl)("associate_channel_wrap").append('<p class="info_text">'.concat(t,"</p>"),$('<button type="button" class="btn_close_channel"><span class="ico_close"></span><span class="hidden">닫기</span></button>').on("click",(function(n){e.allianceOff()})));$("#welcome_header_wrap .header_top_wrap").before(i)}}},{key:"allianceOff",value:function(){var e=this;this.ui.alert({title:"제휴 채널 연결을 종료하시겠습니까?",cancel:!0}).then((function(n){if(n.value){Cookies.remove(b,{path:"/",domain:h.COOKIE_DOMAIN});var a=new(f())(window.location.search);if(a.has("LINK")){var t;a.delete("LINK");var l=p()(t="".concat(e.urlinfo.fullpath)).call(t,a?"?".concat(a):"");window.location.href=l}else window.location.reload()}}))}}]),a}(h.UiPluginsModule);n.default=new v}},function(e){return e.O(0,[321,160,712],(function(){return n=56719,e(e.s=n);var n})),e.O()}])}));